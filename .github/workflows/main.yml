# Unique name for this workflow
name: On push develop - Deploy to TI01

# Definition when the workflow should run
on:
    push:
        branches:
            - develop

# Jobs to be executed
jobs:
    build-deploy:
        runs-on: ubuntu-latest
        steps:

            # Checkout the code in the pull request
            - name: 'Checkout source code'
              uses: actions/checkout@v2

            - name: 'Build and Deploy'
              uses: tiagonnascimento/sfdx-orgdev-build-deploy@v2
              with:
                type: 'sandbox'
                certificate_path: devops/server.key.enc
                decryption_key: 54FB97CE64DD0B4D853E4A00B0687EC5E5E247398991819AF5E0B62D58DC7085
                decryption_iv:  877B00F0AD903C1F614548F39A7E2DAF
                client_id: 3MVG9riCAn8HHkYU4DRo5N9UHF4OrLi_LoUhl2jVG8F1HtrsAFl.07DEu6W4b0CK4YDa7fG9b6ZTllkwRVjXh
                username: mgarcensec@altimetrik.com
                checkonly: false
                deploy_wait_time: '10'
                manifest_path: manifest/package.xml-meta.xml,
                destructive_path: 
                data_factory:
                default_source_path: force-app/main/default